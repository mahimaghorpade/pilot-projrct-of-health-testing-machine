# pilot-projrct-of-health-testing-machine
from picamera import PiCamera from time import sleep  name = input("please enter your name:") while(len(name)&lt;3):     print("please eneter full name")     name = input("please enter your name:") print("your picture is being clicked stand still") sleep(3) camera = PiCamera()  camera.start_preview() sleep(5) camera.capture('/home/pi/Desktop/images/'+name+'.jpg')  camera.stop_preview()   gender = input("please enter your Gender M/F: ") while(gender!='m' and gender != 'f'):     print("please enter M or F")     gender = input("please enter your Gender M/F: ") phno= input("please enter your contact no:  ") while(len(phno)&lt;8 or len(phno)>10 ):     print("please enter valid phone number")     phno= input("please enter your contact no: ")    email=input("please enter your email: ") from dob1 import age print ("please  stand on the weighing machine and place your hand on the sensor module") sleep(5) from weightt import *  import RPi.GPIO as GPIO import time    GPIO.setmode(GPIO.BCM)    GPIO_TRIGGER = 18 GPIO_ECHO = 24    GPIO.setup(GPIO_TRIGGER, GPIO.OUT) GPIO.setup(GPIO_ECHO, GPIO.IN) GPIO.setwarnings(False)   def distance():         GPIO.output(GPIO_TRIGGER, True)          time.sleep(0.00001)     GPIO.output(GPIO_TRIGGER, False)       StartTime = time.time()     StopTime = time.time()        while GPIO.input(GPIO_ECHO) == 0:         StartTime = time.time()           while GPIO.input(GPIO_ECHO) == 1:         StopTime = time.time()           TimeElapsed = StopTime - StartTime        distance = (TimeElapsed * 34300) / 2       return distance   if __name__ == '__main__':     count3=0     while(count3&lt;5):         count3=count3+1                  dist = distance()*10         print ("Measured Distance = %.1f cm" % dist)         time.sleep(1)   from bmi import * from pi_read import * #bp from dht11_example import * from hydration import *  lm=weight-((weight*(BFP/100))) print("your lm is: ",lm)  tbf=(weight*(BFP/100)) print("your tbf is:",tbf)   colories =tbf*7716.79 print("no of calories in your body has : ",colories )  inches=(dist/2.54) feet=(dist/30.48) ffmi=((lm/2.2)/((feet*12.0+dist)*(0.0254*0.0254))) print("your ffmi is:",ffmi)  adjustedffmi=ffmi+((6.3*(1.8-(feet*12.0+inches)*0.0254))) print("your adjusted ffmi is:",adjustedffmi)  bee=(1.0*(weight)*24) print("your bee is:",bee)  if (gender=='f'):     s=-161     rmr=9.99*weight+6.25*dist-4.92*age-161     print("your rmr is:",rmr)     tbw=2.097+0.1069+dist+0.2446*weight     print("your tbw is: ",tbw) if (gender=='m'):     s= 5     rmr=9.99*weight+6.25*dist-4.92*age+5     print("your rmr is:",rmr)     tbw=2.447-0.09156*age+0.1074*dist+0.3362*weight      bmr=(10*weight+6.25*dist-5*age+s) print("your bmr is:",bmr)      print("------------------------------------------report------------------------------------------------------") l="Name:                              "+name+"\n"+"Gender:                            "+gender+"\n"+"Contact no:                        "+phno+"\n"+"Email ID:                          "+email+"\n"+"Age:                               "+str(age)+"\n"+"Weight:                            "+str(weight)+"\n"+"Height:                            "+str(dist)+"\n"+"Body Mass Index:                   normal:18.5-24.9             abnormal:&lt;18.5 and >25          obs.value:"+str(BMI)+"\n"+"Body Fat Percentage:               normal:8-33%                 abnormal:&lt;8 and >33%            obs.value:" +str(BFP)+"\n"+"Bone Mass:                                                                                      "+str(Bonemass)+"\n"+"Fat Mass Index:                    normal:3-9kg/m^2             abnormal:&lt;3 and >9              obs.value:"+str(FMI)+"\n"+"Body Hydration:                                                                                 "+ str(hydrate)+"\n"+"Bits Per Minute(BPM):              normal:60-100                abnormal:&lt;60 and >100           obs.value:"+str(res[2:4])+"\n"+"calories Present in your body :                                                                 "+str(colories )+"\n"+"Lean Mass:                         normal:60-90                 abnormal:&lt;60 and >90            obs.value:"+str(lm)+"\n"+"Total Body Fat:                    normal:8-33                  abnormal:&lt;8 and >33             obs.value:"+str(tbf)+"\n"+"Fat Free Mass Index(ffmi):         normal:14.6-19.8             abnormal:&lt; 14.6 and >19.8       obs.value:"+str(ffmi)+"\n"+"Adjusted ffmi:                                                                                  "+str(adjustedffmi)+"\n"+"Burea Energy Effenciency(BEE):                                                                  "+str(bee)+"\n"+"Besal Metabolic Rate:              normal:1200-3000             abnormal:&lt;1200 and >3000        obs.value:"+str(bmr)+"\n"+"Resting Metabolic Rate:            normal:1400-1600             abnormal:&lt;1400 and >1600        obs.value:"+str(rmr)+"\n"+"Total Body Water:                  normal:45-65%                abnormal:&lt;45 and >68            obs.value:"+str(tbw) print (l) print("------------------------------------------report end--------------------------------------------------") file1 = open("/home/pi/Desktop/reports/"+name+"_report.txt","w") file1.writelines(l) open("/home/pi/Desktop/reports/"+name+"_report.txt","r") file1.close() import webbrowser choice = input('do you wish to have video coference with doctor \n press yes or no:') if (choice=="yes" or choice == "y"):          import smtplib      from email.mime.multipart import MIMEMultipart      from email.mime.text import MIMEText      from email.mime.base import MIMEBase      from email import encoders      fromaddr = "raspberryp087@gmail.com"          toaddr = "janaki.ghorpade@gmail.com"                  msg = MIMEMultipart()          msg['From'] = fromaddr                    msg['To'] = toaddr                 msg['Subject'] = "patient connect"     latitude=""     longitude=""        body = "a patient wants to have chat with u immediately.please open your chatroom"             msg.attach(MIMEText(body, 'plain'))          #     filename = "/home/pi/Desktop/images/"+name+".jpg"     filename1 = "/home/pi/Desktop/reports/"+name+"_report.txt" #     attachment = open("/home/pi/Desktop/images/"+name+".jpg", "rb")          attachment1 = open("/home/pi/Desktop/reports/"+name+"_report.txt", "rb")             #     p = MIMEBase('application', 'octet-stream')     q = MIMEBase('application', 'octet-stream')                  #p.set_payload((attachment).read())     q.set_payload((attachment1).read())             #     encoders.encode_base64(p)     encoders.encode_base64(q)                  #     p.add_header('Content-Disposition', "attachment; filename= %s" % filename) #     msg.attach(p)     q.add_header('Content-Disposition', "attachment; filename= %s" % filename1)     msg.attach(q)                        s = smtplib.SMTP('smtp.gmail.com', 587)               s.starttls()                  s.login(fromaddr,"Raspberry@123")                 text = msg.as_string()                 s.sendmail(fromaddr, toaddr, text)               s.quit()     print("connecting....")     time.sleep(5)     webbrowser.open_new_tab('https://appr.tc/r/770904750')    name = input("please enter your name:") while(len(name)&lt;3):     print("please eneter full name")     name = input("please enter your name:") print("your picture is being clicked stand still") sleep(3) camera = PiCamera()  camera.start_preview() sleep(5) camera.capture('/home/pi/Desktop/images/'+name+'.jpg')  camera.stop_preview()   gender = input("please enter your Gender M/F: ") while(gender!='m' and gender != 'f'):     print("please enter M or F")     gender = input("please enter your Gender M/F: ") phno= input("please enter your contact no:  ") while(len(phno)&lt;8 or len(phno)>10 ):     print("please enter valid phone number")     phno= input("please enter your contact no: ")    email=input("please enter your email: ") from dob1 import age print ("please  stand on the weighing machine and place your hand on the sensor module") sleep(5) from weightt import *  import RPi.GPIO as GPIO import time    GPIO.setmode(GPIO.BCM)    GPIO_TRIGGER = 18 GPIO_ECHO = 24    GPIO.setup(GPIO_TRIGGER, GPIO.OUT) GPIO.setup(GPIO_ECHO, GPIO.IN) GPIO.setwarnings(False)   def distance():         GPIO.output(GPIO_TRIGGER, True)          time.sleep(0.00001)     GPIO.output(GPIO_TRIGGER, False)       StartTime = time.time()     StopTime = time.time()        while GPIO.input(GPIO_ECHO) == 0:         StartTime = time.time()           while GPIO.input(GPIO_ECHO) == 1:         StopTime = time.time()           TimeElapsed = StopTime - StartTime        distance = (TimeElapsed * 34300) / 2       return distance   if __name__ == '__main__':     count3=0     while(count3&lt;5):         count3=count3+1                  dist = distance()*10         print ("Measured Distance = %.1f cm" % dist)         time.sleep(1)   from bmi import * from pi_read import * #bp from dht11_example import * from hydration import *  lm=weight-((weight*(BFP/100))) print("your lm is: ",lm)  tbf=(weight*(BFP/100)) print("your tbf is:",tbf)   colories =tbf*7716.79 print("no of calories in your body has : ",colories )  inches=(dist/2.54) feet=(dist/30.48) ffmi=((lm/2.2)/((feet*12.0+dist)*(0.0254*0.0254))) print("your ffmi is:",ffmi)  adjustedffmi=ffmi+((6.3*(1.8-(feet*12.0+inches)*0.0254))) print("your adjusted ffmi is:",adjustedffmi)  bee=(1.0*(weight)*24) print("your bee is:",bee)  if (gender=='f'):     s=-161     rmr=9.99*weight+6.25*dist-4.92*age-161     print("your rmr is:",rmr)     tbw=2.097+0.1069+dist+0.2446*weight     print("your tbw is: ",tbw) if (gender=='m'):     s= 5     rmr=9.99*weight+6.25*dist-4.92*age+5     print("your rmr is:",rmr)     tbw=2.447-0.09156*age+0.1074*dist+0.3362*weight      bmr=(10*weight+6.25*dist-5*age+s) print("your bmr is:",bmr)      print("------------------------------------------report------------------------------------------------------") l="Name:                              "+name+"\n"+"Gender:                            "+gender+"\n"+"Contact no:                        "+phno+"\n"+"Email ID:                          "+email+"\n"+"Age:                               "+str(age)+"\n"+"Weight:                            "+str(weight)+"\n"+"Height:                            "+str(dist)+"\n"+"Body Mass Index:                   normal:18.5-24.9             abnormal:&lt;18.5 and >25          obs.value:"+str(BMI)+"\n"+"Body Fat Percentage:               normal:8-33%                 abnormal:&lt;8 and >33%            obs.value:" +str(BFP)+"\n"+"Bone Mass:                                                                                      "+str(Bonemass)+"\n"+"Fat Mass Index:                    normal:3-9kg/m^2             abnormal:&lt;3 and >9              obs.value:"+str(FMI)+"\n"+"Body Hydration:                                                                                 "+ str(hydrate)+"\n"+"Bits Per Minute(BPM):              normal:60-100                abnormal:&lt;60 and >100           obs.value:"+str(res[2:4])+"\n"+"calories Present in your body :                                                                 "+str(colories )+"\n"+"Lean Mass:                         normal:60-90                 abnormal:&lt;60 and >90            obs.value:"+str(lm)+"\n"+"Total Body Fat:                    normal:8-33                  abnormal:&lt;8 and >33             obs.value:"+str(tbf)+"\n"+"Fat Free Mass Index(ffmi):         normal:14.6-19.8             abnormal:&lt; 14.6 and >19.8       obs.value:"+str(ffmi)+"\n"+"Adjusted ffmi:                                                                                  "+str(adjustedffmi)+"\n"+"Burea Energy Effenciency(BEE):                                                                  "+str(bee)+"\n"+"Besal Metabolic Rate:              normal:1200-3000             abnormal:&lt;1200 and >3000        obs.value:"+str(bmr)+"\n"+"Resting Metabolic Rate:            normal:1400-1600             abnormal:&lt;1400 and >1600        obs.value:"+str(rmr)+"\n"+"Total Body Water:                  normal:45-65%                abnormal:&lt;45 and >68            obs.value:"+str(tbw) print (l) print("------------------------------------------report end--------------------------------------------------") file1 = open("/home/pi/Desktop/reports/"+name+"_report.txt","w") file1.writelines(l) open("/home/pi/Desktop/reports/"+name+"_report.txt","r") file1.close() import webbrowser choice = input('do you wish to have video coference with doctor \n press yes or no:') if (choice=="yes" or choice == "y"):          import smtplib      from email.mime.multipart import MIMEMultipart      from email.mime.text import MIMEText      from email.mime.base import MIMEBase      from email import encoders      fromaddr = "raspberryp087@gmail.com"          toaddr = "janaki.ghorpade@gmail.com"                  msg = MIMEMultipart()          msg['From'] = fromaddr                    msg['To'] = toaddr                 msg['Subject'] = "patient connect"     latitude=""     longitude=""        body = "a patient wants to have chat with u immediately.please open your chatroom"             msg.attach(MIMEText(body, 'plain'))          #     filename = "/home/pi/Desktop/images/"+name+".jpg"     filename1 = "/home/pi/Desktop/reports/"+name+"_report.txt" #     attachment = open("/home/pi/Desktop/images/"+name+".jpg", "rb")          attachment1 = open("/home/pi/Desktop/reports/"+name+"_report.txt", "rb")             #     p = MIMEBase('application', 'octet-stream')     q = MIMEBase('application', 'octet-stream')                  #p.set_payload((attachment).read())     q.set_payload((attachment1).read())             #     encoders.encode_base64(p)     encoders.encode_base64(q)                  #     p.add_header('Content-Disposition', "attachment; filename= %s" % filename) #     msg.attach(p)     q.add_header('Content-Disposition', "attachment; filename= %s" % filename1)     msg.attach(q)                        s = smtplib.SMTP('smtp.gmail.com', 587)               s.starttls()                  s.login(fromaddr,"Raspberry@123")                 text = msg.as_string()                 s.sendmail(fromaddr, toaddr, text)               s.quit()     print("connecting....")     time.sleep(5)     webbrowser.open_new_tab('https://appr.tc/r/770904750')         
